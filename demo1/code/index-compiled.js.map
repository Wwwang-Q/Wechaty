{"version":3,"sources":["index.js"],"names":[],"mappings":";;;;;;AAIA;;;;2cAJA;;;;AAMA,IAAM,MAAM,iBAAQ,QAAR,EAAZ;;AAEA,IACK,EADL,CACQ,MADR,EACgB,UAAC,GAAD,EAAM,IAAN,EAAa;AACrB,QAAI,WAAW,IAAI,OAAJ,CAAY,QAAZ,EAAsB,GAAtB,CAAf;AACA,YAAQ,iBAAR,EAA2B,QAA3B,CAAoC,QAApC;AACA,YAAQ,GAAR,CAAY,GAAZ;AACH,CALL,EAOK,EAPL,CAOQ,OAPR,EAOiB,gBAAM;AACf,YAAQ,GAAR,CAAe,IAAf;AACH,CATL,EAWK,EAXL,CAWQ,QAXR;AAAA,4DAWkB,iBAAgB,OAAhB,EAAyB,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA,6BACP,OADO;AAAA;AAAA;AAAA;;AAAA;AAAA,+BAEA,QAAQ,MAAR,EAFA;;AAAA;AAGN,gCAAQ,GAAR,eAAwB,QAAQ,IAAR,EAAxB,sBAAuD,QAAQ,KAA/D;;AAHM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAXlB;;AAAA;AAAA;AAAA;AAAA,KAkBK,EAlBL,CAkBQ,SAlBR;AAAA,6DAkBmB,kBAAe,CAAf;AAAA;;AAAA;AAAA;AAAA;AAAA;AACL,+BADK,GACK,EAAE,IAAF,EADL;AAEL,+BAFK,GAEK,EAAE,OAAF,EAFL;AAGL,4BAHK,GAGE,EAAE,IAAF,EAHF;;;AAKX,4BAAG,IAAH,EAAQ;AACJ,oCAAQ,GAAR,YAAqB,KAAK,KAAL,EAArB,kBAA8C,QAAQ,IAAR,EAA9C,kBAAyE,OAAzE;AACH,yBAFD,MAEM;AACF,oCAAQ,GAAR,eAAwB,QAAQ,IAAR,EAAxB,kBAAmD,OAAnD;AACH;;AATU,6BAWR,EAAE,IAAF,EAXQ;AAAA;AAAA;AAAA;;AAAA;;AAAA;;AAeX,4BAAG,QAAQ,IAAR,CAAa,OAAb,CAAH,EAAyB;AACrB,8BAAE,GAAF,CAAM,mBAAN;AACH;;AAjBU,6BAmBR,OAAO,IAAP,CAAY,OAAZ,CAnBQ;AAAA;AAAA;AAAA;;AAAA;AAAA,+BAoBa,cAAK,IAAL,CAAU,EAAC,OAAO,MAAR,EAAV,CApBb;;AAAA;AAoBH,+BApBG;;AAAA,6BAqBJ,OArBI;AAAA;AAAA;AAAA;;AAAA;AAAA,+BAsBG,QAAQ,GAAR,CAAY,OAAZ,CAtBH;;AAAA;AAAA;AAAA,+BAuBG,QAAQ,GAAR,CAAY,UAAZ,EAAwB,OAAxB,CAvBH;;AAAA;AAAA,6BA2BR,MAAM,IAAN,CAAW,OAAX,CA3BQ;AAAA;AAAA;AAAA;;AAAA;AAAA,+BA4Ba,cAAK,IAAL,CAAU,EAAC,OAAO,MAAR,EAAV,CA5Bb;;AAAA;AA4BH,gCA5BG;;AAAA,6BA6BJ,QA7BI;AAAA;AAAA;AAAA;;AAAA;AAAA,+BA8BG,SAAQ,GAAR,CAAY,sBAAZ,EAAoC,OAApC,CA9BH;;AAAA;AAAA;AAAA,+BA+BG,SAAQ,GAAR,CAAY,OAAZ,CA/BH;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAlBnB;;AAAA;AAAA;AAAA;AAAA,KAsDK,IAtDL","file":"index-compiled.js","sourcesContent":["/**\n * Created by wangqi on 2017/5/7.\n */\n\nimport {Wechaty, Room} from 'wechaty'\n\nconst bot = Wechaty.instance()\n\nbot\n    .on('scan', (url, code)=>{\n        let loginUrl = url.replace('qrcode', 'l')\n        require('qrcode-terminal').generate(loginUrl)\n        console.log(url)\n    })\n\n    .on('login', user=>{\n        console.log(`${user} login.welcome!!`)\n    })\n\n    .on('friend', async function (contact, request){\n        if(request){\n            await request.accept()\n            console.log(`Contact: ${contact.name()} send request ${request.hello}`)\n        }\n    })\n\n    .on('message', async function(m){\n        const contact = m.from()\n        const content = m.content()\n        const room = m.room()\n\n        if(room){\n            console.log(`Room: ${room.topic()} Contact: ${contact.name()} Content: ${content}`)\n        } else{\n            console.log(`Contact: ${contact.name()} Content: ${content}`)\n        }\n\n        if(m.self()){\n            return\n        }\n\n        if(/hello/.test(content)){\n            m.say(\"hello how are you\")\n        }\n\n        if(/room/.test(content)){\n            let keyroom = await Room.find({topic: \"test\"})\n            if(keyroom){\n                await keyroom.add(contact)\n                await keyroom.say(\"welcome!\", contact)\n            }\n        }\n\n        if(/out/.test(content)){\n            let keyroom = await Room.find({topic: \"test\"})\n            if(keyroom){\n                await keyroom.say(\"Remove from the room\", contact)\n                await keyroom.del(contact)\n            }\n        }\n    })\n\n    .init()"]}